<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.bundle.js"></script>

<div class="chart-container">
		<canvas id="canvas"></canvas>
</div>

<script>


function done(){
  var url=myChart.toBase64Image();
  document.getElementById("downloadImage").href=url;
}

// var options = {
//   animation: {
//     onComplete: done
//   }
// };

// Graphique en ligne
function lines(data, labels, label, title){
	var myChart = new Chart(document.getElementById("canvas").getContext("2d"),{
		data:{
					labels : labels,
					datasets : [
						{
							label : label,
							fillColor : "rgba(220,220,220,0.5)",
							strokeColor : "rgba(220,220,220,1)",
							pointColor : "rgba(220,220,220,1)",
							pointStrokeColor : "#fff",
							data : data,
							bezierCurve : false
						}
					]
				},
	  type:"line",
	  options:{
			title: {
			      display: true,
			      text: 'title'
			},
			animation: { onComplete: done }
		}
	});
}

// Graphique en barres
function bars(data, labels, label, title){
	var myChart = new Chart(document.getElementById("canvas"), {
	    type: 'bar',
	    data: {
	      labels: labels,
	      datasets: [
	        {
	          label: label,
	          backgroundColor: "#3e95cd",
	          data: data
	        }
	      ]
	    },
	    options: {
	      legend: { display: false },
	      title: {
	        display: true,
	        text: title
	      },
				animation: { onComplete: done }
	    }
	});
}

function pie(data, labels, label, title){

	var myCharts = new Chart(document.getElementById("canvas"), {
    type: 'pie',
    data: {
      labels: ["Africa", "Asia", "Europe", "Latin America", "North America"],
      datasets: [{
        label: "Population (millions)",
        backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
        data: [2478,5267,734,784,433]
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Predicted world population (millions) in 2050'
      }
    }
	});
}

// pie ();
// bars([2478,5267,734,784,433],["Africa", "Asia", "Europe", "Latin America", "North America"],"temperature", "evolution de la temperature à Nevers");
pie([2478,5267,734,784,433],["Africa", "Asia", "Europe", "Latin America", "North America"],"temperature", "evolution de la temperature à Nevers");

// lines([30,21,31,38,36,33,32, 32,36,27,35,38,38,35,38,35,25,35,31,36,29,37,40,35,27,23,28,20,26,21], ['01/04/2018','02/04/2018','03/04/2018','04/04/2018','05/04/2018','06/04/2018','07/04/2018','08/04/2018','09/04/2018','10/04/2018','11/04/2018','12/04/2018','13/04/2018','14/04/2018','15/04/2018','16/04/2018','17/04/2018','18/04/2018','19/04/2018','20/04/2018','21/04/2018','22/04/2018','23/04/2018','24/04/2018','25/04/2018','26/04/2018','27/04/2018','28/04/2018','29/04/2018','30/04/2018'], "Temperature");

</script>
